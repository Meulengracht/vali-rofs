add_library(libap STATIC IMPORTED GLOBAL)
if(WIN32)
    if(CMAKE_SIZEOF_VOID_P EQUAL 8)
        target_include_directories(libap INTERFACE coff64)
        set_property(TARGET libap PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/coff64/aplib.lib)
    elseif(CMAKE_SIZEOF_VOID_P EQUAL 4)
        target_include_directories(libap INTERFACE coff)
        set_property(TARGET libap PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/coff/aplib.lib)
    endif()
elseif(UNIX)
    if(CMAKE_SIZEOF_VOID_P EQUAL 8)
        target_include_directories(libap INTERFACE elf64)
        set_target_properties(libap PROPERTIES IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/elf64/aplib.a)
    elseif(CMAKE_SIZEOF_VOID_P EQUAL 4)
        target_include_directories(libap INTERFACE elf)
        set_target_properties(libap PROPERTY IMPORTED_LOCATION ${CMAKE_CURRENT_SOURCE_DIR}/elf/aplib.a)
    endif()
endif()
